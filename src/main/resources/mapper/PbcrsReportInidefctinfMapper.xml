<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hkbank.pbcrs.mapper.PbcrsReportInidefctinfMapper">
  <resultMap id="BaseResultMap" type="com.hkbank.pbcrs.model.PbcrsReportInidefctinf">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Mar 15 10:54:59 CST 2019.
    -->
    <id column="INIDEFCTINFSEQNO" jdbcType="VARCHAR" property="InIDEfctInfSeqNo" />
    <result column="INFRECTYPE" jdbcType="VARCHAR" property="InfRecType" />
    <result column="NAME" jdbcType="VARCHAR" property="Name" />
    <result column="IDTYPE" jdbcType="VARCHAR" property="IDType" />
    <result column="IDNUM" jdbcType="VARCHAR" property="IDNum" />
    <result column="INFSURCCODE" jdbcType="VARCHAR" property="InfSurcCode" />
    <result column="IDEFCTDATE" jdbcType="VARCHAR" property="IDEfctDate" />
    <result column="IDDUEDATE" jdbcType="VARCHAR" property="IDDueDate" />
    <result column="IDORGNAME" jdbcType="VARCHAR" property="IDOrgName" />
    <result column="IDDIST" jdbcType="VARCHAR" property="IDDist" />
    <result column="CIMOC" jdbcType="VARCHAR" property="Cimoc" />
    <result column="RPTDATE" jdbcType="VARCHAR" property="RptDate" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="String">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Mar 15 10:54:59 CST 2019.
    -->
    delete from PBCRS_REPORT_INIDEFCTINF
    where INIDEFCTINFSEQNO = #{InIDEfctInfSeqNo,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.hkbank.pbcrs.model.PbcrsReportInidefctinf">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Mar 15 10:54:59 CST 2019.
    -->
    insert into PBCRS_REPORT_INIDEFCTINF (INIDEFCTINFSEQNO, INFRECTYPE, NAME, 
      IDTYPE, IDNUM, INFSURCCODE, 
      IDEFCTDATE, IDDUEDATE, IDORGNAME, 
      IDDIST, CIMOC, RPTDATE
      )
    values (#{InIDEfctInfSeqNo,jdbcType=VARCHAR}, #{InfRecType,jdbcType=VARCHAR}, #{Name,jdbcType=VARCHAR}, 
      #{IDType,jdbcType=VARCHAR}, #{IDNum,jdbcType=VARCHAR}, #{InfSurcCode,jdbcType=VARCHAR}, 
      #{IDEfctDate,jdbcType=VARCHAR}, #{IDDueDate,jdbcType=VARCHAR}, #{IDOrgName,jdbcType=VARCHAR}, 
      #{IDDist,jdbcType=VARCHAR}, #{Cimoc,jdbcType=VARCHAR}, #{RptDate,jdbcType=VARCHAR}
      )
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.hkbank.pbcrs.model.PbcrsReportInidefctinf">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Mar 15 10:54:59 CST 2019.
    -->
    update PBCRS_REPORT_INIDEFCTINF
    set INFRECTYPE = #{InfRecType,jdbcType=VARCHAR},
      NAME = #{Name,jdbcType=VARCHAR},
      IDTYPE = #{IDType,jdbcType=VARCHAR},
      IDNUM = #{IDNum,jdbcType=VARCHAR},
      INFSURCCODE = #{InfSurcCode,jdbcType=VARCHAR},
      IDEFCTDATE = #{IDEfctDate,jdbcType=VARCHAR},
      IDDUEDATE = #{IDDueDate,jdbcType=VARCHAR},
      IDORGNAME = #{IDOrgName,jdbcType=VARCHAR},
      IDDIST = #{IDDist,jdbcType=VARCHAR},
      CIMOC = #{Cimoc,jdbcType=VARCHAR},
      RPTDATE = #{RptDate,jdbcType=VARCHAR}
    where INIDEFCTINFSEQNO = #{InIDEfctInfSeqNo,jdbcType=VARCHAR}
  </update>
  <select id="selectByPrimaryKey" parameterType="String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Mar 15 10:54:59 CST 2019.
    -->
    select INIDEFCTINFSEQNO, INFRECTYPE, NAME, IDTYPE, IDNUM, INFSURCCODE, IDEFCTDATE, 
    IDDUEDATE, IDORGNAME, IDDIST, CIMOC, RPTDATE
    from PBCRS_REPORT_INIDEFCTINF
    where INIDEFCTINFSEQNO = #{InIDEfctInfSeqNo,jdbcType=VARCHAR}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
       @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Mar 15 10:54:59 CST 2019.
    -->
    select INIDEFCTINFSEQNO, INFRECTYPE, NAME, IDTYPE, IDNUM, INFSURCCODE, IDEFCTDATE, 
    IDDUEDATE, IDORGNAME, IDDIST, CIMOC, RPTDATE
    from PBCRS_REPORT_INIDEFCTINF
  </select>
  <select id="selectByMap" parameterType="map" resultMap="BaseResultMap">
		select * from (
			select t.*,rownum rm from (
				 select INIDEFCTINFSEQNO,
				    INFRECTYPE,
			    	NAME,
				    IDTYPE,
			     	IDNUM,
			      	INFSURCCODE,
			       	IDEFCTDATE, 
    				IDDUEDATE,
    			 	nvl(IDORGNAME,' ')IDORGNAME,
    			  	nvl(IDDIST,' ')IDDIST, 
    			  	CIMOC,
    			   	RPTDATE
   				 from PBCRS_REPORT_INIDEFCTINF
				where reportflag='0'
				<if test="sysid != null and sysid != ''">
				and sourcesys=#{sysid}
				</if>
				<if test="etl_Date != null and etl_Date != ''">
				<!-- and t1.etl_date=to_date(#{etl_Date},'yyyymmdd') -->
				and etl_date=#{etl_Date}
				</if>
				<!-- and IDEfctDate !='0000-00-00' -->
			)t where rownum &lt;= #{pageEnd}
  		 )where rm > #{pageBegin}
	</select>
	<select id="selectByMapCount" parameterType="map" resultType="int">
		select count(1)
		 from PBCRS_REPORT_INIDEFCTINF

		where reportflag='0'
		<if test="sysid != null and sysid != ''">
			and sourcesys=#{sysid}
		</if>
		<if test="etl_Date != null and etl_Date != ''">
			<!-- and t1.etl_date=to_date(#{etl_Date},'yyyymmdd') -->
			and etl_date=#{etl_Date}
		</if>
	</select>
	
		<update id="updateByMap" parameterType="map">
		update PBCRS_REPORT_INIDEFCTINF
		set REPORTFLAG=#{flagRes}
		where REPORTFLAG =
		'0'
		<if test="sysid != null and sysid != ''">
			and sourcesys=#{sysid}
		</if>
		<if test="etl_Date != null and etl_Date != ''">
			<!-- and t1.etl_date=to_date(#{etl_Date},'yyyymmdd') -->
			and etl_date=#{etl_Date}
		</if>
	</update>
</mapper>