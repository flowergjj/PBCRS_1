<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hkbank.pbcrs.mapper.PbcrsReportIncandexpstaMapper">
	<resultMap id="BaseResultMap"
		type="com.hkbank.pbcrs.model.PbcrsReportIncandexpsta">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Mar 18 
			11:03:15 CST 2019. -->
		<id column="INCOMEANDESSEQNO" jdbcType="VARCHAR" property="IncomeAndESSeqNo" />
		<result column="INCOMEANDESBSSGMTSEQNO" jdbcType="VARCHAR"
			property="IncomeAndESBsSgmtSeqNo" />
		<result column="INCOMEANDESSGMTSEQNO" jdbcType="VARCHAR"
			property="IncomeAndESSgmtSeqNo" />


		<association property="IncomeAndExpenseStatementBsSgmt"
			javaType="com.hkbank.pbcrs.model.PbcrsReportIncandexpstbssgmt">
			<result column="INCOMEANDESBSSGMTSEQNO" jdbcType="VARCHAR"
				property="IncomeAndESBsSgmtSeqNo" />
			<result column="INFRECTYPE" jdbcType="VARCHAR" property="InfRecType" />
			<result column="ENTNAME" jdbcType="VARCHAR" property="EntName" />
			<result column="ENTCERTTYPE" jdbcType="VARCHAR" property="EntCertType" />
			<result column="ENTCERTNUM" jdbcType="VARCHAR" property="EntCertNum" />
			<result column="RPTDATE" jdbcType="VARCHAR" property="RptDate" />
			<result column="SHEETYEAR" jdbcType="VARCHAR" property="SheetYear" />
			<result column="SHEETTYPE" jdbcType="VARCHAR" property="SheetType" />
			<result column="SHEETTYPEDIVIDE" jdbcType="VARCHAR" property="SheetTypeDivide" />
			<result column="AUDITFIRMNAME" jdbcType="VARCHAR" property="AuditFirmName" />
			<result column="AUDITORNAME" jdbcType="VARCHAR" property="AuditorName" />
			<result column="AUDITTIME" jdbcType="VARCHAR" property="AuditTime" />
			<result column="CIMOC" jdbcType="VARCHAR" property="Cimoc" />
			<result column="RPTDATECODE" jdbcType="VARCHAR" property="RptDateCode" />
		</association>

		<association property="IncomeAndExpenseStatementSgmt"
			javaType="com.hkbank.pbcrs.model.PbcrsReportIncandexpstasgmt">
			<result column="INCOMEANDESSGMTSEQNO" jdbcType="VARCHAR"
				property="IncomeAndESSgmtSeqNo" />
			<result column="CURFINSUBCAROVEBAL" jdbcType="VARCHAR"
				property="CurFinSubCarOveBal" />
			<result column="FINANCIALSUBSIDYREVENUE" jdbcType="VARCHAR"
				property="FinancialSubsidyRevenue" />
			<result column="UNDEXPFINSUBEXP" jdbcType="VARCHAR" property="UndExpFinSubExp" />
			<result column="CURUNDCAROVEBAL" jdbcType="VARCHAR" property="CurUndCarOveBal" />
			<result column="UNDERTAKINGSCLASSREVENUE" jdbcType="VARCHAR"
				property="UndertakingsClassRevenue" />
			<result column="UNDERTAKINGSREVENUE" jdbcType="VARCHAR"
				property="UndertakingsRevenue" />
			<result column="SUPERIORSUBSIDYREVENUE" jdbcType="VARCHAR"
				property="SuperiorSubsidyRevenue" />
			<result column="REVTUROVEBYSUBUNI" jdbcType="VARCHAR"
				property="RevTurOveBySubUni" />
			<result column="OTHERREVENUE" jdbcType="VARCHAR" property="OtherRevenue" />
			<result column="DONATIONINCOME" jdbcType="VARCHAR" property="DonationIncome" />
			<result column="UNDERTAKINGSCLASSEXPENDITURE" jdbcType="VARCHAR"
				property="UndertakingsClassExpenditure" />
			<result column="UNDEXPNONFINSUBEXP" jdbcType="VARCHAR"
				property="UndExpNonFinSubExp" />
			<result column="PAYMENTTOTHEHIGHERAUTHORITY" jdbcType="VARCHAR"
				property="PaymentToTheHigherAuthority" />
			<result column="GRATOTHEAUXORG" jdbcType="VARCHAR" property="GraToTheAuxOrg" />
			<result column="OTHEREXPENDITURE" jdbcType="VARCHAR" property="OtherExpenditure" />
			<result column="CURRENTOPERATINGBALANCE" jdbcType="VARCHAR"
				property="CurrentOperatingBalance" />
			<result column="OPERATINGREVENUE" jdbcType="VARCHAR" property="OperatingRevenue" />
			<result column="OPERATINGEXPENDITURE" jdbcType="VARCHAR"
				property="OperatingExpenditure" />
			<result column="OPEBALMADUPFOROFTHEPREYEAOPELO" jdbcType="VARCHAR"
				property="OpeBalMadUpForOfThePreYeaOpeLo" />
			<result column="NONFINSUBCAROVEBALTHIYEA" jdbcType="VARCHAR"
				property="NonFinSubCarOveBalThiYea" />
			<result column="NONFINANCIALAIDCARRIEDOVER" jdbcType="VARCHAR"
				property="NonFinancialAidCarriedOver" />
			<result column="NONFINANCIALAIDBALANCETHISYEAR" jdbcType="VARCHAR"
				property="NonFinancialAidBalanceThisYear" />
			<result column="ENTERPRISEINCOMETAXPAYABLE" jdbcType="VARCHAR"
				property="EnterpriseIncomeTaxPayable" />
			<result column="SPECIALFUNDSTOEXTRACT" jdbcType="VARCHAR"
				property="SpecialFundsToExtract" />
			<result column="PUBLICFUNDTURNEDINTO" jdbcType="VARCHAR"
				property="PublicFundTurnedInto" />
			<result column="REPORTFLAG" jdbcType="VARCHAR" property="ReportFlag" />
		</association>
	</resultMap>
	<delete id="deleteByPrimaryKey" parameterType="String">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Mar 18 
			11:03:15 CST 2019. -->
		delete from PBCRS_REPORT_INCANDEXPSTA
		where INCOMEANDESSEQNO = #{IncomeAndESSeqNo,jdbcType=VARCHAR}
	</delete>
	<insert id="insert" parameterType="com.hkbank.pbcrs.model.PbcrsReportIncandexpsta">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Mar 18 
			11:03:15 CST 2019. -->
		insert into PBCRS_REPORT_INCANDEXPSTA (INCOMEANDESSEQNO,
		INCOMEANDESBSSGMTSEQNO,
		INCOMEANDESSGMTSEQNO)
		values (#{IncomeAndESSeqNo,jdbcType=VARCHAR},
		#{IncomeAndESBsSgmtSeqNo,jdbcType=VARCHAR},
		#{IncomeAndESSgmtSeqNo,jdbcType=VARCHAR})
	</insert>
	<update id="updateByPrimaryKey" parameterType="com.hkbank.pbcrs.model.PbcrsReportIncandexpsta">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Mar 18 
			11:03:15 CST 2019. -->
		update PBCRS_REPORT_INCANDEXPSTA
		set INCOMEANDESBSSGMTSEQNO = #{IncomeAndESBsSgmtSeqNo,jdbcType=VARCHAR},
		INCOMEANDESSGMTSEQNO = #{IncomeAndESSgmtSeqNo,jdbcType=VARCHAR}
		where INCOMEANDESSEQNO = #{IncomeAndESSeqNo,jdbcType=VARCHAR}
	</update>
	<select id="selectByPrimaryKey" parameterType="String"
		resultMap="BaseResultMap">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Mar 18 
			11:03:15 CST 2019. -->
		select INCOMEANDESSEQNO, INCOMEANDESBSSGMTSEQNO, INCOMEANDESSGMTSEQNO
		from PBCRS_REPORT_INCANDEXPSTA
		where INCOMEANDESSEQNO = #{IncomeAndESSeqNo,jdbcType=VARCHAR}
	</select>
	<select id="selectAll" resultMap="BaseResultMap">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Mar 18 
			11:03:15 CST 2019. -->
		select INCOMEANDESSEQNO, INCOMEANDESBSSGMTSEQNO, INCOMEANDESSGMTSEQNO
		from PBCRS_REPORT_INCANDEXPSTA
	</select>

	<select id="getKey" resultType="int">
		select SEQ_REPORT_INCANDEXPSTA.NEXTVAL from dual
	</select>

	<insert id="insertMod" parameterType="map">
		insert into pbcrs_report_INCANDEXPSTA_Mod
		values(#{BeforeSeqno},#{AfterSeqno})

	</insert>
	
		<select id="selectByMapCount" parameterType="map" resultType="int">
	
		select count(1)
		from PBCRS_REPORT_INCANDEXPSTBSSGMT t
<!-- 		left join
		PBCRS_REPORT_INCANDEXPSTASGMT t1
		on t.INCOMEANDESBSSGMTSEQNO = t1.INCOMEANDESSGMTSEQNO
		and t1.ETL_DATE = #{etl_Date}
		<if test="sysid != null and sysid != ''">
			and t1.SOURCESYS = #{sysid}
		</if>
		and t1.REPORTFLAG = #{REPORTFLAG} -->
		where 1=1
		<if test="etl_Date != null and etl_Date != ''">
			and t.ETL_DATE = #{etl_Date}
		</if>
		<if test="sysid != null and sysid != ''">
			and t.SOURCESYS = #{sysid}
		</if>
		and t.REPORTFLAG = #{REPORTFLAG} 
		
	</select>
	


	<select id="selectByMap" parameterType="map" resultMap="BaseResultMap">
	select * from ( SELECT A.*, ROWNUM RN FROM  ( 
		select t.INCOMEANDESBSSGMTSEQNO INCOMEANDESSEQNO, INFRECTYPE, ENTNAME,
		ENTCERTTYPE, ENTCERTNUM, RPTDATE,
		SHEETYEAR, SHEETTYPE, SHEETTYPEDIVIDE, nvl(AUDITFIRMNAME,'  ')AUDITFIRMNAME, nvl(AUDITORNAME,'  ') AUDITORNAME, nvl(AUDITTIME,'  ') AUDITTIME,
		CIMOC,
		RPTDATECODE,
		t1.INCOMEANDESSGMTSEQNO, 
		nvl(trim(to_char(CURFINSUBCAROVEBAL,'9999999999990.99')),'0.00')CURFINSUBCAROVEBAL, 
		nvl(trim(to_char(FINANCIALSUBSIDYREVENUE,'9999999999990.99')),'  ')FINANCIALSUBSIDYREVENUE, 
		nvl(trim(to_char(UNDEXPFINSUBEXP,'9999999999990.99')),'  ')UNDEXPFINSUBEXP,
		nvl(trim(to_char(CURUNDCAROVEBAL,'9999999999990.99')),'0.00')CURUNDCAROVEBAL, 
		nvl(trim(to_char(UNDERTAKINGSCLASSREVENUE,'9999999999990.99')),'  ')UNDERTAKINGSCLASSREVENUE, 
		nvl(trim(to_char(UNDERTAKINGSREVENUE,'9999999999990.99')),'  ')UNDERTAKINGSREVENUE,
		nvl(trim(to_char(SUPERIORSUBSIDYREVENUE,'9999999999990.99')),'  ')SUPERIORSUBSIDYREVENUE,
		nvl(trim(to_char(REVTUROVEBYSUBUNI,'9999999999990.99')),'  ')REVTUROVEBYSUBUNI, 
		nvl(trim(to_char(OTHERREVENUE,'9999999999990.99')),'  ')OTHERREVENUE, 
		nvl(trim(to_char(DONATIONINCOME,'9999999999990.99')),'  ')DONATIONINCOME, 
		nvl(trim(to_char(UNDERTAKINGSCLASSEXPENDITURE,'9999999999990.99')),'  ')UNDERTAKINGSCLASSEXPENDITURE,
		nvl(trim(to_char(UNDEXPNONFINSUBEXP,'9999999999990.99')),'  ')UNDEXPNONFINSUBEXP,
		nvl(trim(to_char(PAYMENTTOTHEHIGHERAUTHORITY,'9999999999990.99')),'  ')PAYMENTTOTHEHIGHERAUTHORITY, 
		nvl(trim(to_char(GRATOTHEAUXORG,'9999999999990.99')),'  ')GRATOTHEAUXORG, 
		nvl(trim(to_char(OTHEREXPENDITURE,'9999999999990.99')),'  ')OTHEREXPENDITURE, 
		nvl(trim(to_char(CURRENTOPERATINGBALANCE,'9999999999990.99')),'0.00')CURRENTOPERATINGBALANCE,
		nvl(trim(to_char(OPERATINGREVENUE,'9999999999990.99')),'  ')OPERATINGREVENUE, 
		nvl(trim(to_char(OPERATINGEXPENDITURE,'9999999999990.99')),'  ')OPERATINGEXPENDITURE,
		nvl(trim(to_char(OPEBALMADUPFOROFTHEPREYEAOPELO,'9999999999990.99')),'0.00')OPEBALMADUPFOROFTHEPREYEAOPELO, 
		nvl(trim(to_char(NONFINSUBCAROVEBALTHIYEA,'9999999999990.99')),'0.00')NONFINSUBCAROVEBALTHIYEA,
		nvl(trim(to_char(NONFINANCIALAIDCARRIEDOVER,'9999999999990.99')),'  ')NONFINANCIALAIDCARRIEDOVER, 
		nvl(trim(to_char(NONFINANCIALAIDBALANCETHISYEAR,'9999999999990.99')),'0.00')NONFINANCIALAIDBALANCETHISYEAR,
		nvl(trim(to_char(ENTERPRISEINCOMETAXPAYABLE,'9999999999990.99')),'  ')ENTERPRISEINCOMETAXPAYABLE,
		nvl(trim(to_char(SPECIALFUNDSTOEXTRACT,'9999999999990.99')),'  ')SPECIALFUNDSTOEXTRACT, 
		nvl(trim(to_char(PUBLICFUNDTURNEDINTO,'9999999999990.99')),'0.00')PUBLICFUNDTURNEDINTO
		from PBCRS_REPORT_INCANDEXPSTBSSGMT t
		left join
		PBCRS_REPORT_INCANDEXPSTASGMT t1
		on t.INCOMEANDESBSSGMTSEQNO = t1.INCOMEANDESSGMTSEQNO
		<if test="etl_Date != null and etl_Date != ''">
			and t1.ETL_DATE = #{etl_Date}
		</if>
		<if test="sysid != null and sysid != ''">
			and t1.SOURCESYS = #{sysid}
		</if>
		and t1.REPORTFLAG = #{REPORTFLAG}
		where 1=1
		<if test="etl_Date != null and etl_Date != ''">
			and t.ETL_DATE = #{etl_Date}
		</if>
		<if test="sysid != null and sysid != ''">
			and t.SOURCESYS = #{sysid}
		</if>
		and t.REPORTFLAG = #{REPORTFLAG} 
		) A where ROWNUM  &lt; = #{pageEnd} ) WHERE RN > #{pageBegin}
	</select>

	<update id="updateByMap" parameterType="map">

	</update>
</mapper>