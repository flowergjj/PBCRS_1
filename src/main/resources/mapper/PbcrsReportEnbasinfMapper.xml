<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hkbank.pbcrs.mapper.PbcrsReportEnbasinfMapper">
	<resultMap id="BaseResultMap" type="com.hkbank.pbcrs.model.PbcrsReportEnbasinf">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Mar 14 
			15:00:52 CST 2019. -->
		<id column="ENBASINFSEQNO" jdbcType="VARCHAR" property="EnBasInfSeqNo" />
		<result column="BSSGMTSEQNO" jdbcType="VARCHAR" property="BsSgmtSeqNo" />
		<result column="IDSGMTSEQNO" jdbcType="VARCHAR" property="IDSgmtSeqNo" />
		<result column="FCSINFSGMTSEQNO" jdbcType="VARCHAR" property="FcsInfSgmtSeqNo" />
<!-- 		<result column="MNMMBINFSGMTSEQNO" jdbcType="VARCHAR" property="MnMmbInfSgmtSeqNo" />
 -->		<result column="MNSHAHODINFSGMTSEQNO" jdbcType="VARCHAR"
			property="MnShaHodInfSgmtSeqNo" />
		<result column="ACTUCOTRLINFSGMTSEQNO" jdbcType="VARCHAR"
			property="ActuCotrlInfSgmtSeqNo" />
		<result column="SPVSGATHRTYINFSGMTSEQNO" jdbcType="VARCHAR"
			property="SpvsgAthrtyInfSgmtSeqNo" />
		<result column="COTAINFSGMTSEQNO" jdbcType="VARCHAR" property="CotaInfSgmtSeqNo" />

		<association property="BsSgmt"
			javaType="com.hkbank.pbcrs.model.PbcrsReportEnbasinfbssgmt">
			<id column="BSSGMTSEQNO" jdbcType="VARCHAR" property="BsSgmtSeqNo" />
			<result column="INFRECTYPE" jdbcType="VARCHAR" property="InfRecType" />
			<result column="ENTNAME" jdbcType="VARCHAR" property="EntName" />
			<result column="ENTCERTTYPE" jdbcType="VARCHAR" property="EntCertType" />
			<result column="ENTCERTNUM" jdbcType="VARCHAR" property="EntCertNum" />
			<result column="INFSURCCODE" jdbcType="VARCHAR" property="InfSurcCode" />
			<result column="RPTDATE" jdbcType="VARCHAR" property="RptDate" />
			<result column="RPTDATECODE" jdbcType="VARCHAR" property="RptDateCode" />
			<result column="CIMOC" jdbcType="VARCHAR" property="Cimoc" />
			<result column="CUSTOMERTYPE" jdbcType="VARCHAR" property="CustomerType" />
			<result column="ETPSTS" jdbcType="VARCHAR" property="EtpSts" />
			<result column="ORGTYPE" jdbcType="VARCHAR" property="OrgType" />
			<result column="REPORTFLAG" jdbcType="VARCHAR" property="ReportFlag" />
		</association>

		<association property="IDSgmt"
			javaType="com.hkbank.pbcrs.model.PbcrsReportEnbasinfidsgmt">
			<id column="IDSGMTSEQNO" jdbcType="VARCHAR" property="IDSgmtSeqNo" />
			<result column="IDNM" jdbcType="VARCHAR" property="IDNm" />
			<result column="IDINFOUPDATE" jdbcType="VARCHAR" property="IDInfoUpDate" />
			<result column="REPORTFLAG" jdbcType="VARCHAR" property="ReportFlag" />
			<collection property="fidrecList"
				ofType="com.hkbank.pbcrs.model.PbcrsReportEnbasinfidrec">
				<id column="IDSGMTSEQNO" jdbcType="VARCHAR" property="IDSgmtSeqNo" />
				<id column="IDSGMTLISTSEQNO" jdbcType="VARCHAR" property="IDSgmtListSeqNo" />
				<result column="OTHENTCERTTYPE" jdbcType="VARCHAR" property="OthEntCertType" />
				<result column="OTHENTCERTNUM" jdbcType="VARCHAR" property="OthEntCertNum" />
				<result column="REPORTFLAG" jdbcType="VARCHAR" property="ReportFlag" />
			</collection>
		</association>

		<association property="FcsInfSgmt"
			javaType="com.hkbank.pbcrs.model.PbcrsReportEnbasinffcssgmt">
			<id column="FCSINFSGMTSEQNO" jdbcType="VARCHAR" property="FcsInfSgmtSeqNo" />
			<result column="NATIONALITY" jdbcType="VARCHAR" property="Nationality" />
			<result column="REGADD" jdbcType="VARCHAR" property="RegAdd" />
			<result column="ADMDIVOFREG" jdbcType="VARCHAR" property="AdmDivOfReg" />
			<result column="ESTABLISHDATE" jdbcType="VARCHAR" property="EstablishDate" />
			<result column="BIZENDDATE" jdbcType="VARCHAR" property="BizEndDate" />
			<result column="BIZRANGE" jdbcType="VARCHAR" property="BizRange" />
			<result column="ECOINDUSCATE" jdbcType="VARCHAR" property="EcoIndusCate" />
			<result column="ECOTYPE" jdbcType="VARCHAR" property="EcoType" />
			<result column="ENTSCALE" jdbcType="VARCHAR" property="EntScale" />
			<result column="FCSINFOUPDATE" jdbcType="VARCHAR" property="FcsInfoUpDate" />
		</association>

		<association property="MnMmbInfSgmt"
			javaType="com.hkbank.pbcrs.model.PbcrsReportMnmmbinfsgmt">
			<id column="MNMMBINFSGMTSEQNO" jdbcType="VARCHAR" property="MnMmbInfSgmtSeqNo" />
			<result column="MMBNM" jdbcType="VARCHAR" property="MmbNm" />
			<result column="REPORTFLAG" jdbcType="VARCHAR" property="ReportFlag" />
			<result column="MNMMBINFOUPDATE" jdbcType="VARCHAR" property="MnMmbInfoUpDate" />
			<collection property="MmbInf"
				ofType="com.hkbank.pbcrs.model.PbcrsReportEnbasinfmmbinf">
				<id column="MNMMBINFSGMTSEQNO" jdbcType="VARCHAR" property="MNMMBINFSGMTSEQNO" />
                <id column="MMBINFSEQNO" jdbcType="VARCHAR" property="MmbInfSeqNo" />
	            <result column="MMBALIAS" jdbcType="VARCHAR" property="MmbAlias" />
				<result column="MMBIDTYPE" jdbcType="VARCHAR" property="MmbIDType" />
				<result column="MMBIDNUM" jdbcType="VARCHAR" property="MmbIDNum" />
				<result column="MMBPSTN" jdbcType="VARCHAR" property="MmbPstn" />
				<result column="REPORTFLAG" jdbcType="VARCHAR" property="ReportFlag" />
				
			</collection>
		</association>

		<association property="MnShaHodInfSgmt"
			javaType="com.hkbank.pbcrs.model.PbcrsReportMnshahodinfsgmt">
			<id column="MNSHAHODINFSGMTSEQNO" jdbcType="VARCHAR" property="MnShaHodInfSgmtSeqNo" />
			<result column="MNSHARHODNM" jdbcType="VARCHAR" property="MnSharHodNm" />
			<result column="REGCAPCURRENCY" jdbcType="VARCHAR" property="RegCapCurrency" />
			<result column="REGCAP" jdbcType="VARCHAR" property="RegCap" />
			<result column="MNSHAHODINFOUPDATE" jdbcType="VARCHAR"
				property="MnShaHodInfoUpDate" />
			<result column="REPORTFLAG" jdbcType="VARCHAR" property="ReportFlag" />
			<collection property="shahodinfList"
				ofType="com.hkbank.pbcrs.model.PbcrsReportEnbasinfshahodinf">
				<id column="MNSHAHODINFSGMTSEQNO" jdbcType="VARCHAR" property="MnShaHodInfSgmtSeqNo" />
				<id column="SHARHODINFSEQNO" jdbcType="VARCHAR" property="SharHodInfSeqNo" />
				<result column="SHARHODTYPE" jdbcType="VARCHAR" property="SharHodType" />
				<result column="SHARHODCERTTYPE" jdbcType="VARCHAR" property="SharHodCertType" />
				<result column="SHARHODNAME" jdbcType="VARCHAR" property="SharHodName" />
				<result column="SHARHODIDTYPE" jdbcType="VARCHAR" property="SharHodIDType" />
				<result column="SHARHODIDNUM" jdbcType="VARCHAR" property="SharHodIDNum" />
				<result column="INVRATIO" jdbcType="VARCHAR" property="InvRatio" />
				<result column="REPORTFLAG" jdbcType="VARCHAR" property="ReportFlag" />
			</collection>
		</association>

		<association property="ActuCotrlInfSgmt"
			javaType="com.hkbank.pbcrs.model.PbcrsReportActucotrlinfsgmt">
			<id column="ACTUCOTRLINFSGMTSEQNO" jdbcType="VARCHAR"
				property="ActuCotrlInfSgmtSeqNo" />
			<result column="ACTUCOTRLNM" jdbcType="VARCHAR" property="ActuCotrlNm" />
			<result column="ACTUCOTRLINFOUPDATE" jdbcType="VARCHAR"
				property="ActuCotrlInfoUpDate" />
			<result column="REPORTFLAG" jdbcType="VARCHAR" property="ReportFlag" />
			<collection property="actcotinfList"
				ofType="com.hkbank.pbcrs.model.PbcrsReportEnbasinfactcotinf">

				<id column="ACTUCOTRLINFSGMTSEQNO" jdbcType="VARCHAR"
					property="ActuCotrlInfSgmtSeqNo" />
				<id column="ACTUCOTRLINFSEQNO" jdbcType="VARCHAR" property="ActuCotrlInfSeqNo" />
				<result column="ACTUCOTRLCERTTYPE" jdbcType="VARCHAR"
					property="ActuCotrlCertType" />
				<result column="ACTUCOTRLNAME" jdbcType="VARCHAR" property="ActuCotrlName" />
				<result column="ACTUCOTRLIDTYPE" jdbcType="VARCHAR" property="ActuCotrlIDType" />
				<result column="ACTUCOTRLIDNUM" jdbcType="VARCHAR" property="ActuCotrlIDNum" />
				<result column="REPORTFLAG" jdbcType="VARCHAR" property="ReportFlag" />
			</collection>
		</association>

		<association property="SpvsgAthrtyInfSgmt"
			javaType="com.hkbank.pbcrs.model.PbcrsReportSpvathinfsgmt">
			<id column="SPVSGATHRTYINFSGMTSEQNO" jdbcType="VARCHAR"
				property="SpvsgAthrtyInfSgmtSeqNo" />
			<result column="SUPORGTYPE" jdbcType="VARCHAR" property="SupOrgType" />
			<result column="SUPORGNAME" jdbcType="VARCHAR" property="SupOrgName" />
			<result column="SUPORGCERTTYPE" jdbcType="VARCHAR" property="SupOrgCertType" />
			<result column="SUPORGCERTNUM" jdbcType="VARCHAR" property="SupOrgCertNum" />
			<result column="SUPORGINFOUPDATE" jdbcType="VARCHAR" property="SupOrgInfoUpDate" />
			<result column="REPORTFLAG" jdbcType="VARCHAR" property="ReportFlag" />
		</association>

		<association property="CotaInfSgmt"
			javaType="com.hkbank.pbcrs.model.PbcrsReportCotainfsgmt">
			<id column="COTAINFSGMTSEQNO" jdbcType="VARCHAR" property="CotaInfSgmtSeqNo" />
			<result column="CONADDDISTRICTCODE" jdbcType="VARCHAR"
				property="ConAddDistrictCode" />
			<result column="CONADD" jdbcType="VARCHAR" property="ConAdd" />
			<result column="CONPHONE" jdbcType="VARCHAR" property="ConPhone" />
			<result column="FINCONPHONE" jdbcType="VARCHAR" property="FinConPhone" />
			<result column="COTAINFOUPDATE" jdbcType="VARCHAR" property="CotaInfoUpDate" />
		</association>
	</resultMap>
	<delete id="deleteByPrimaryKey" parameterType="String">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Mar 14 
			15:00:52 CST 2019. -->
		delete from PBCRS_REPORT_ENBASINF
		where ENBASINFSEQNO =
		#{EnBasInfSeqNo,jdbcType=VARCHAR}
	</delete>
	<insert id="insert" parameterType="com.hkbank.pbcrs.model.PbcrsReportEnbasinf">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Mar 14 
			15:00:52 CST 2019. -->
		insert into PBCRS_REPORT_ENBASINF (ENBASINFSEQNO, BSSGMTSEQNO,
		IDSGMTSEQNO,
		FCSINFSGMTSEQNO, MNMMBINFSGMTSEQNO, MNSHAHODINFSGMTSEQNO,
		ACTUCOTRLINFSGMTSEQNO, SPVSGATHRTYINFSGMTSEQNO,
		COTAINFSGMTSEQNO)
		values (#{EnBasInfSeqNo,jdbcType=VARCHAR},
		#{BsSgmtSeqNo,jdbcType=VARCHAR},
		#{IDSgmtSeqNo,jdbcType=VARCHAR},
		#{FcsInfSgmtSeqNo,jdbcType=VARCHAR},
		#{MnMmbInfSgmtSeqNo,jdbcType=VARCHAR},
		#{MnShaHodInfSgmtSeqNo,jdbcType=VARCHAR},
		#{ActuCotrlInfSgmtSeqNo,jdbcType=VARCHAR},
		#{SpvsgAthrtyInfSgmtSeqNo,jdbcType=VARCHAR},
		#{CotaInfSgmtSeqNo,jdbcType=VARCHAR})
	</insert>
	<update id="updateByPrimaryKey" parameterType="com.hkbank.pbcrs.model.PbcrsReportEnbasinf">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Mar 14 
			15:00:52 CST 2019. -->
		update PBCRS_REPORT_ENBASINF
		set BSSGMTSEQNO =
		#{BsSgmtSeqNo,jdbcType=VARCHAR},
		IDSGMTSEQNO =
		#{IDSgmtSeqNo,jdbcType=VARCHAR},
		FCSINFSGMTSEQNO =
		#{FcsInfSgmtSeqNo,jdbcType=VARCHAR},
		MNMMBINFSGMTSEQNO =
		#{MnMmbInfSgmtSeqNo,jdbcType=VARCHAR},
		MNSHAHODINFSGMTSEQNO =
		#{MnShaHodInfSgmtSeqNo,jdbcType=VARCHAR},
		ACTUCOTRLINFSGMTSEQNO =
		#{ActuCotrlInfSgmtSeqNo,jdbcType=VARCHAR},
		SPVSGATHRTYINFSGMTSEQNO =
		#{SpvsgAthrtyInfSgmtSeqNo,jdbcType=VARCHAR},
		COTAINFSGMTSEQNO =
		#{CotaInfSgmtSeqNo,jdbcType=VARCHAR}
		where ENBASINFSEQNO =
		#{EnBasInfSeqNo,jdbcType=VARCHAR}
	</update>
	<select id="selectByPrimaryKey" parameterType="String"
		resultMap="BaseResultMap">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Mar 14 
			15:00:52 CST 2019. -->
		select ENBASINFSEQNO, BSSGMTSEQNO, IDSGMTSEQNO, FCSINFSGMTSEQNO,
		MNMMBINFSGMTSEQNO,
		MNSHAHODINFSGMTSEQNO, ACTUCOTRLINFSGMTSEQNO,
		SPVSGATHRTYINFSGMTSEQNO, COTAINFSGMTSEQNO
		from PBCRS_REPORT_ENBASINF
		where ENBASINFSEQNO = #{EnBasInfSeqNo,jdbcType=VARCHAR}
	</select>
	<select id="selectAll" resultMap="BaseResultMap">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu Mar 14 
			15:00:52 CST 2019. -->
		select ENBASINFSEQNO, BSSGMTSEQNO, IDSGMTSEQNO, FCSINFSGMTSEQNO,
		MNMMBINFSGMTSEQNO,
		MNSHAHODINFSGMTSEQNO, ACTUCOTRLINFSGMTSEQNO,
		SPVSGATHRTYINFSGMTSEQNO, COTAINFSGMTSEQNO
		from PBCRS_REPORT_ENBASINF
	</select>
	<select id="getKey" resultType="int">
		select
		SEQ_REPORT_ENBASINF.NEXTVAL from dual
	</select>

	<insert id="insertMod" parameterType="map">
		insert into
		pbcrs_report_EnBasInf_Mod values(#{BeforeSeqno},#{AfterSeqno})

	</insert>
	
	
		<select id="selectByMapCount" parameterType="map" resultType="int">
		select count(1)
		from
		PBCRS_REPORT_ENBASINFBSSGMT t
		<!-- left join
		PBCRS_REPORT_ENBASINFIDSGMT t1
		on t.BSSGMTSEQNO = t1.IDSGMTSEQNO
		and t1.ETL_DATE = #{etl_Date}
		<if test="sysid != null and sysid != ''">
			and t1.SOURCESYS = #{sysid}
		</if>
		and t1.REPORTFLAG = #{REPORTFLAG}
		left join
		PBCRS_REPORT_ENBASINFIDREC
		t8
		on t1.IDSGMTSEQNO = t8.IDSGMTSEQNO
		and t8.ETL_DATE = #{etl_Date}
		<if test="sysid != null and sysid != ''">
			and t8.SOURCESYS = #{sysid}
		</if>
		and t8.REPORTFLAG = #{REPORTFLAG}
		left join
		PBCRS_REPORT_ENBASINFFCSSGMT t2
		on t.BSSGMTSEQNO = t2.FCSINFSGMTSEQNO
		and t2.ETL_DATE = #{etl_Date}
		<if test="sysid != null and sysid != ''">
			and t2.SOURCESYS = #{sysid}
		</if>
		and t2.REPORTFLAG = #{REPORTFLAG}
		left join
		PBCRS_REPORT_MNMMBINFSGMT t3
		on t.BSSGMTSEQNO = t3.MNMMBINFSGMTSEQNO
		and t3.ETL_DATE = #{etl_Date}
		<if test="sysid != null and sysid != ''">
			and t3.SOURCESYS = #{sysid}
		</if>
		and t3.REPORTFLAG = #{REPORTFLAG}
		left join
		PBCRS_REPORT_ENBASINFMMBINF
		t9
		on t3.MNMMBINFSGMTSEQNO = t9.MNMMBINFSGMTSEQNO
		and t9.ETL_DATE =
		#{etl_Date}
		<if test="sysid != null and sysid != ''">
			and t9.SOURCESYS = #{sysid}
		</if>
		and t9.REPORTFLAG = #{REPORTFLAG}
		left join
		PBCRS_REPORT_MNSHAHODINFSGMT t4
		on t.BSSGMTSEQNO =
		t4.MNSHAHODINFSGMTSEQNO
		and t4.ETL_DATE = #{etl_Date}
		<if test="sysid != null and sysid != ''">
			and t4.SOURCESYS = #{sysid}
		</if>
		and t4.REPORTFLAG = #{REPORTFLAG}
		left join
		PBCRS_REPORT_ENBASINFSHAHODINF t10
		on t4.MNSHAHODINFSGMTSEQNO =
		t10.MNSHAHODINFSGMTSEQNO
		and t10.ETL_DATE = #{etl_Date}
		<if test="sysid != null and sysid != ''">
			and t10.SOURCESYS = #{sysid}
		</if>
		and t10.REPORTFLAG = #{REPORTFLAG}
		left join
		PBCRS_REPORT_ACTUCOTRLINFSGMT t5
		on t.BSSGMTSEQNO =
		t5.ACTUCOTRLINFSGMTSEQNO
		and t5.ETL_DATE = #{etl_Date}
		<if test="sysid != null and sysid != ''">
			and t5.SOURCESYS = #{sysid}
		</if>
		and t5.REPORTFLAG = #{REPORTFLAG}
		left join
		PBCRS_REPORT_ENBASINFACTCOTINF t11
		on t5.ACTUCOTRLINFSGMTSEQNO =
		t11.ACTUCOTRLINFSGMTSEQNO
		and t11.ETL_DATE = #{etl_Date}
		<if test="sysid != null and sysid != ''">
			and t11.SOURCESYS = #{sysid}
		</if>
		and t11.REPORTFLAG = #{REPORTFLAG}
		left join
		PBCRS_REPORT_SPVATHINFSGMT
		t6
		on t.BSSGMTSEQNO = t6.SPVSGATHRTYINFSGMTSEQNO
		and t6.ETL_DATE =
		#{etl_Date}
		<if test="sysid != null and sysid != ''">
			and t6.SOURCESYS = #{sysid}
		</if>
		and t6.REPORTFLAG = #{REPORTFLAG}
		left join
		PBCRS_REPORT_COTAINFSGMT t7
		on t.BSSGMTSEQNO = t7.COTAINFSGMTSEQNO
		and t7.ETL_DATE = #{etl_Date}
		<if test="sysid != null and sysid != ''">
			and t7.SOURCESYS = #{sysid}
		</if>
		and t7.REPORTFLAG = #{REPORTFLAG} -->
		where 1=1
		<if test="etl_Date != null and etl_Date != ''">
			and t.ETL_DATE = #{etl_Date}
		</if>
		<if test="sysid != null and sysid != ''">
			and t.SOURCESYS = #{sysid}
		</if>
		and t.REPORTFLAG = #{REPORTFLAG}
	
	</select>


	<select id="selectByMap" parameterType="map" resultMap="BaseResultMap">
	select
	t.BSSGMTSEQNO ENBASINFSEQNO, INFRECTYPE,
		ENTNAME, ENTCERTTYPE,
		ENTCERTNUM, INFSURCCODE, RPTDATE,
		RPTDATECODE,
		CIMOC, CUSTOMERTYPE, ETPSTS, ORGTYPE,
		t1.IDSGMTSEQNO, IDNM,
		IDINFOUPDATE,
		OTHENTCERTTYPE, OTHENTCERTNUM,
		t2.FCSINFSGMTSEQNO,
		NATIONALITY,
	    REGADD, nvl(ADMDIVOFREG,'  ')ADMDIVOFREG, nvl(EstablishDate,'  ' )EstablishDate,
		BIZENDDATE,
		BIZRANGE,
		ECOINDUSCATE, ECOTYPE, ENTSCALE,
		nvl(FCSINFOUPDATE,'  ' )FCSINFOUPDATE, 
		t3.MNMMBINFSGMTSEQNO MnMmbInfSgmtSeqNo,
		MMBNM,
		<!-- t9.MNMMBINFSGMTSEQNO MNMMBINFSGMTSEQNO, -->MMBINFSEQNO MmbInfSeqNo,
		MMBALIAS, MMBIDTYPE, MMBIDNUM, MMBPSTN, t9.MNMMBINFOUPDATE MnMmbInfoUpDate,
		t4.MNSHAHODINFSGMTSEQNO,
		MNSHARHODNM, REGCAPCURRENCY, REGCAP, MNSHAHODINFOUPDATE,
		SHARHODTYPE,
		SHARHODCERTTYPE, SHARHODNAME, SHARHODIDTYPE, SHARHODIDNUM, INVRATIO,
		t5.ACTUCOTRLINFSGMTSEQNO, ACTUCOTRLNM, ACTUCOTRLINFOUPDATE,
		ACTUCOTRLCERTTYPE, ACTUCOTRLNAME, ACTUCOTRLIDTYPE, ACTUCOTRLIDNUM,
		t6.SPVSGATHRTYINFSGMTSEQNO, SUPORGTYPE, SUPORGNAME, SUPORGCERTTYPE,
		SUPORGCERTNUM, SUPORGINFOUPDATE,
		t7.COTAINFSGMTSEQNO,
		nvl(CONADDDISTRICTCODE,'  ')CONADDDISTRICTCODE, nvl(CONADD,'  ')CONADD,nvl(CONPHONE,'  ') CONPHONE, nvl(FINCONPHONE,'  ')FINCONPHONE, 
		nvl(COTAINFOUPDATE,'  ' )COTAINFOUPDATE from 
		
		(select * from ( SELECT A.*, ROWNUM RN FROM  ( 
		select BSSGMTSEQNO, INFRECTYPE,
		ENTNAME, ENTCERTTYPE,
		ENTCERTNUM, INFSURCCODE, RPTDATE,
		RPTDATECODE,
		CIMOC, CUSTOMERTYPE, ETPSTS, ORGTYPE

		from
		PBCRS_REPORT_ENBASINFBSSGMT 
	
		where 1=1
		<if test="etl_Date != null and etl_Date != ''">
			and ETL_DATE = #{etl_Date}
		</if>
		<if test="sysid != null and sysid != ''">
			and SOURCESYS = #{sysid}
		</if>
		and REPORTFLAG = #{REPORTFLAG}
		) A where ROWNUM  &lt; = #{pageEnd} ) WHERE RN > #{pageBegin}) t
			left join
		PBCRS_REPORT_ENBASINFIDSGMT t1
		on t.BSSGMTSEQNO = t1.IDSGMTSEQNO
		<if test="etl_Date != null and etl_Date != ''">
			and t1.ETL_DATE = #{etl_Date}
		</if>
		<if test="sysid != null and sysid != ''">
			and t1.SOURCESYS = #{sysid}
		</if>
		and t1.REPORTFLAG = #{REPORTFLAG}
		left join
		PBCRS_REPORT_ENBASINFIDREC
		t8
		on t1.IDSGMTSEQNO = t8.IDSGMTSEQNO
		<if test="etl_Date != null and etl_Date != ''">
			and t8.ETL_DATE = #{etl_Date}
		</if>
		<if test="sysid != null and sysid != ''">
			and t8.SOURCESYS = #{sysid}
		</if>
		and t8.REPORTFLAG = #{REPORTFLAG}
		left join
		PBCRS_REPORT_ENBASINFFCSSGMT t2
		on t.BSSGMTSEQNO = t2.FCSINFSGMTSEQNO
		<if test="etl_Date != null and etl_Date != ''">
			and t2.ETL_DATE = #{etl_Date}
		</if>
		<if test="sysid != null and sysid != ''">
			and t2.SOURCESYS = #{sysid}
		</if>
		and t2.REPORTFLAG = #{REPORTFLAG}
		left join
		PBCRS_REPORT_MNMMBINFSGMT t3
		on t.BSSGMTSEQNO = t3.MNMMBINFSGMTSEQNO
		<if test="etl_Date != null and etl_Date != ''">
			and t3.ETL_DATE = #{etl_Date}
		</if>
		<if test="sysid != null and sysid != ''">
			and t3.SOURCESYS = #{sysid}
		</if>
		and t3.REPORTFLAG = #{REPORTFLAG}
		left join
		PBCRS_REPORT_ENBASINFMMBINF
		t9
		on t3.MNMMBINFSGMTSEQNO = t9.MNMMBINFSGMTSEQNO
		<if test="etl_Date != null and etl_Date != ''">
			and t9.ETL_DATE = #{etl_Date}
		</if>
		<if test="sysid != null and sysid != ''">
			and t9.SOURCESYS = #{sysid}
		</if>
		and t9.REPORTFLAG = #{REPORTFLAG}
		left join
		PBCRS_REPORT_MNSHAHODINFSGMT t4
		on t.BSSGMTSEQNO =
		t4.MNSHAHODINFSGMTSEQNO
		<if test="etl_Date != null and etl_Date != ''">
			and t4.ETL_DATE = #{etl_Date}
		</if>
		<if test="sysid != null and sysid != ''">
			and t4.SOURCESYS = #{sysid}
		</if>
		and t4.REPORTFLAG = #{REPORTFLAG}
		left join
		PBCRS_REPORT_ENBASINFSHAHODINF t10
		on t4.MNSHAHODINFSGMTSEQNO =
		t10.MNSHAHODINFSGMTSEQNO
		<if test="etl_Date != null and etl_Date != ''">
			and t10.ETL_DATE = #{etl_Date}
		</if>
		<if test="sysid != null and sysid != ''">
			and t10.SOURCESYS = #{sysid}
		</if>
		and t10.REPORTFLAG = #{REPORTFLAG}
		left join
		PBCRS_REPORT_ACTUCOTRLINFSGMT t5
		on t.BSSGMTSEQNO =
		t5.ACTUCOTRLINFSGMTSEQNO
		<if test="etl_Date != null and etl_Date != ''">
			and t5.ETL_DATE = #{etl_Date}
		</if>
		<if test="sysid != null and sysid != ''">
			and t5.SOURCESYS = #{sysid}
		</if>
		and t5.REPORTFLAG = #{REPORTFLAG}
		left join
		PBCRS_REPORT_ENBASINFACTCOTINF t11
		on t5.ACTUCOTRLINFSGMTSEQNO =
		t11.ACTUCOTRLINFSGMTSEQNO
		<if test="etl_Date != null and etl_Date != ''">
			and t11.ETL_DATE = #{etl_Date}
		</if>
		<if test="sysid != null and sysid != ''">
			and t11.SOURCESYS = #{sysid}
		</if>
		and t11.REPORTFLAG = #{REPORTFLAG}
		left join
		PBCRS_REPORT_SPVATHINFSGMT
		t6
		on t.BSSGMTSEQNO = t6.SPVSGATHRTYINFSGMTSEQNO
		<if test="etl_Date != null and etl_Date != ''">
			and t6.ETL_DATE = #{etl_Date}
		</if>
		<if test="sysid != null and sysid != ''">
			and t6.SOURCESYS = #{sysid}
		</if>
		and t6.REPORTFLAG = #{REPORTFLAG}
		left join
		PBCRS_REPORT_COTAINFSGMT t7
		on t.BSSGMTSEQNO = t7.COTAINFSGMTSEQNO
		<if test="etl_Date != null and etl_Date != ''">
			and t7.ETL_DATE = #{etl_Date}
		</if>
		<if test="sysid != null and sysid != ''">
			and t7.SOURCESYS = #{sysid}
		</if>
		and t7.REPORTFLAG = #{REPORTFLAG}
	</select>

	<update id="updateByMap" parameterType="map">

	</update>
</mapper>