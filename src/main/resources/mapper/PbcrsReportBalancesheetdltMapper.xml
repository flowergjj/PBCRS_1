<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hkbank.pbcrs.mapper.PbcrsReportBalancesheetdltMapper">
  <resultMap id="BaseResultMap" type="com.hkbank.pbcrs.model.PbcrsReportBalancesheetdlt">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 26 13:43:34 CST 2019.
    -->
    <id column="BALANCESHEETDLTSEQNO" jdbcType="VARCHAR" property="BalanceSheetDltSeqNo" />
    <result column="INFRECTYPE" jdbcType="VARCHAR" property="InfRecType" />
    <result column="ENTNAME" jdbcType="VARCHAR" property="EntName" />
    <result column="ENTCERTTYPE" jdbcType="VARCHAR" property="EntCertType" />
    <result column="ENTCERTNUM" jdbcType="VARCHAR" property="EntCertNum" />
    <result column="SHEETYEAR" jdbcType="VARCHAR" property="SheetYear" />
    <result column="SHEETTYPE" jdbcType="VARCHAR" property="SheetType" />
    <result column="SHEETTYPEDIVIDE" jdbcType="VARCHAR" property="SheetTypeDivide" />
    <result column="RPTDATE" jdbcType="VARCHAR" property="RptDate" />
    <result column="ORG_CODE" jdbcType="VARCHAR" property="orgCode" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="String">
    <!--
      WARNING - @mbggenerated
      element is automatically generated by MyBatis Generator, do not modify.
       element was generated on Tue Mar 26 13:43:34 CST 2019.
    -->
    delete from PBCRS_REPORT_BALANCESHEETDLT
    where BALANCESHEETDLTSEQNO = #{BalanceSheetDltSeqNo,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.hkbank.pbcrs.model.PbcrsReportBalancesheetdlt">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 26 13:43:34 CST 2019.
    -->
    insert into PBCRS_REPORT_BALANCESHEETDLT (BALANCESHEETDLTSEQNO, INFRECTYPE, 
      ENTNAME, ENTCERTTYPE, ENTCERTNUM, 
      SHEETYEAR, SHEETTYPE, SHEETTYPEDIVIDE, 
       ETL_DATE,SOURCESYS,REPORTFLAG,ORG_CODE)
    values (#{BalanceSheetDltSeqNo,jdbcType=VARCHAR}, #{InfRecType,jdbcType=VARCHAR}, 
      #{EntName,jdbcType=VARCHAR}, #{EntCertType,jdbcType=VARCHAR}, #{EntCertNum,jdbcType=VARCHAR}, 
      #{SheetYear,jdbcType=VARCHAR}, #{SheetType,jdbcType=VARCHAR}, #{SheetTypeDivide,jdbcType=VARCHAR}, 
      to_date(to_char(sysdate,'yyyy-mm-dd'),'yyyy-mm-dd'),
	  #{SourceSys,jdbcType=VARCHAR},#{ReportFlag,jdbcType=VARCHAR},#{orgCode,jdbcType=VARCHAR})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.hkbank.pbcrs.model.PbcrsReportBalancesheetdlt">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 26 13:43:34 CST 2019.
    -->
    update PBCRS_REPORT_BALANCESHEETDLT
    set INFRECTYPE = #{InfRecType,jdbcType=VARCHAR},
      ENTNAME = #{EntName,jdbcType=VARCHAR},
      ENTCERTTYPE = #{EntCertType,jdbcType=VARCHAR},
      ENTCERTNUM = #{EntCertNum,jdbcType=VARCHAR},
      SHEETYEAR = #{SheetYear,jdbcType=VARCHAR},
      SHEETTYPE = #{SheetType,jdbcType=VARCHAR},
      SHEETTYPEDIVIDE = #{SheetTypeDivide,jdbcType=VARCHAR},
      RPTDATE = #{RptDate,jdbcType=VARCHAR}
    where BALANCESHEETDLTSEQNO = #{BalanceSheetDltSeqNo,jdbcType=VARCHAR}
  </update>
  

  <select id="selectByPrimaryKey" parameterType="String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 26 13:43:34 CST 2019.
    -->
    select BALANCESHEETDLTSEQNO, INFRECTYPE, ENTNAME, ENTCERTTYPE, ENTCERTNUM, SHEETYEAR, 
    SHEETTYPE, SHEETTYPEDIVIDE, RPTDATE
    from PBCRS_REPORT_BALANCESHEETDLT
    where BALANCESHEETDLTSEQNO = #{BalanceSheetDltSeqNo,jdbcType=VARCHAR}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 26 13:43:34 CST 2019.
    -->
    select BALANCESHEETDLTSEQNO, INFRECTYPE, ENTNAME, ENTCERTTYPE, ENTCERTNUM, SHEETYEAR, 
    SHEETTYPE, SHEETTYPEDIVIDE, RPTDATE
    from PBCRS_REPORT_BALANCESHEETDLT
  </select>
  
    <select id="selectByMap" parameterType="map"  resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Mar 26 13:43:34 CST 2019.
    -->
    select BALANCESHEETDLTSEQNO, INFRECTYPE, ENTNAME, ENTCERTTYPE, ENTCERTNUM, SHEETYEAR, 
    SHEETTYPE, SHEETTYPEDIVIDE, RPTDATE
    from PBCRS_REPORT_BALANCESHEETDLT 
    where  ETL_DATE = #{etl_Date}
   <if test="sysid != null and sysid != ''">
	and SOURCESYS = #{sysid}
	</if>     
     and REPORTFLAG = #{REPORTFLAG}
  </select>
  
   <update id="updateByMap" parameterType="map">
    update PBCRS_REPORT_BALANCESHEETDLT
    set REPORTFLAG='1'
    where 1=1
		<if test="etl_Date != null and etl_Date != ''">
			and ETL_DATE = #{etl_Date}
		</if> 
      <if test="sysid != null and sysid != ''">
	and SOURCESYS = #{sysid}
	</if> 
	 and REPORTFLAG = '0'   
  </update>
</mapper>