<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hkbank.pbcrs.mapper.PbcrsReportIncomesprofitapprMapper">
	<resultMap id="BaseResultMap"
		type="com.hkbank.pbcrs.model.PbcrsReportIncomesprofitappr">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Mar 15 
			16:25:20 CST 2019. -->
		<id column="INCOMESTATEMENTPASEQNO" jdbcType="VARCHAR"
			property="IncomeStatementPASeqNo" />
		<result column="INCOMESTATEMENTPABSSGMTSEQNO" jdbcType="VARCHAR"
			property="IncomeStatementPABsSgmtSeqNo" />
		<result column="INCOMESTATEMENTPA2007SGMTSEQNO" jdbcType="VARCHAR"
			property="IncomeStatementPA2007SgmtSeqNo" />

		<association property="IncomeStatementProfitAppropriationBsSgmt"
			javaType="com.hkbank.pbcrs.model.PbcrsReportIncomesbssgmt">
			<id column="INCOMESTATEMENTPABSSGMTSEQNO" jdbcType="VARCHAR"
				property="IncomeStatementPABsSgmtSeqNo" />
			<result column="INFRECTYPE" jdbcType="VARCHAR" property="InfRecType" />
			<result column="ENTNAME" jdbcType="VARCHAR" property="EntName" />
			<result column="ENTCERTTYPE" jdbcType="VARCHAR" property="EntCertType" />
			<result column="ENTCERTNUM" jdbcType="VARCHAR" property="EntCertNum" />
			<result column="RPTDATE" jdbcType="VARCHAR" property="RptDate" />
			<result column="SHEETYEAR" jdbcType="VARCHAR" property="SheetYear" />
			<result column="SHEETTYPE" jdbcType="VARCHAR" property="SheetType" />
			<result column="SHEETTYPEDIVIDE" jdbcType="VARCHAR" property="SheetTypeDivide" />
			<result column="AUDITFIRMNAME" jdbcType="VARCHAR" property="AuditFirmName" />
			<result column="AUDITORNAME" jdbcType="VARCHAR" property="AuditorName" />
			<result column="AUDITTIME" jdbcType="VARCHAR" property="AuditTime" />
			<result column="CIMOC" jdbcType="VARCHAR" property="Cimoc" />
			<result column="RPTDATECODE" jdbcType="VARCHAR" property="RptDateCode" />
			<result column="REPORTFLAG" jdbcType="VARCHAR" property="ReportFlag" />
		</association>

		<association property="IncomeStatementProfitAppropriation2007Sgmt"
			javaType="com.hkbank.pbcrs.model.PbcrsReportIncomestatement07">
			<id column="INCOMESTATEMENTPA2007SGMTSEQNO" jdbcType="VARCHAR"
				property="IncomeStatementPA2007SgmtSeqNo" />
			<result column="REVENUEOFSALES" jdbcType="VARCHAR" property="RevenueOfSales" />
			<result column="COSTOFSALES" jdbcType="VARCHAR" property="CostOfSales" />
			<result column="BUSINESSANDOTHERTAXES" jdbcType="VARCHAR"
				property="BusinessAndOtherTaxes" />
			<result column="SELLINGEXPENSES" jdbcType="VARCHAR" property="SellingExpenses" />
			<result column="GENERALANDADMINISTRATIVEEXPENS" jdbcType="VARCHAR"
				property="GeneralAndAdministrativeExpenses" />
			<result column="FINANCIALEXPENSE" jdbcType="VARCHAR" property="FinancialExpense" />
			<result column="IMPAIRMENTLOSSOFASSETS" jdbcType="VARCHAR"
				property="ImpairmentLossOfAssets" />
			<result column="PROORLOSARIFROCHAINFAIVAL" jdbcType="VARCHAR"
				property="ProOrLosAriFroChaInFaiVal" />
			<result column="INVESTMENTINCOME" jdbcType="VARCHAR" property="InvestmentIncome" />
			<result column="INVFROAFFBUSANDCOOENT" jdbcType="VARCHAR"
				property="InvFroAffBusAndCooEnt" />
			<result column="OPERATINGPROFITS" jdbcType="VARCHAR" property="OperatingProfits" />
			<result column="NONOPERATINGINCOME" jdbcType="VARCHAR"
				property="NonOperatingIncome" />
			<result column="NONOPERATINGEXPENSES" jdbcType="VARCHAR"
				property="NonOperatingExpenses" />
			<result column="NONCURRENTASSETS" jdbcType="VARCHAR" property="NonCurrentAssets" />
			<result column="PROFITBEFORETAX" jdbcType="VARCHAR" property="ProfitBeforeTax" />
			<result column="INCOMETAXEXPENSE" jdbcType="VARCHAR" property="IncomeTaxExpense" />
			<result column="NETPROFIT" jdbcType="VARCHAR" property="NetProfit" />
			<result column="BASICEARNINGSPERSHARE" jdbcType="VARCHAR"
				property="BasicEarningsPerShare" />
			<result column="DILUTEDEARNINGSPERSHARE" jdbcType="VARCHAR"
				property="DilutedEarningsPerShare" />
			<result column="REPORTFLAG" jdbcType="VARCHAR" property="ReportFlag" />
		</association>
	</resultMap>
	<delete id="deleteByPrimaryKey" parameterType="String">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Mar 15 
			16:25:20 CST 2019. -->
		delete from PBCRS_REPORT_INCOMESPROFITAPPR
		where INCOMESTATEMENTPASEQNO = #{IncomeStatementPASeqNo,jdbcType=VARCHAR}
	</delete>
	<insert id="insert" parameterType="com.hkbank.pbcrs.model.PbcrsReportIncomesprofitappr">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Mar 15 
			16:25:20 CST 2019. -->
		insert into PBCRS_REPORT_INCOMESPROFITAPPR (INCOMESTATEMENTPASEQNO,
		INCOMESTATEMENTPABSSGMTSEQNO,
		INCOMESTATEMENTPA2007SGMTSEQNO)
		values (#{IncomeStatementPASeqNo,jdbcType=VARCHAR},
		#{IncomeStatementPABsSgmtSeqNo,jdbcType=VARCHAR},
		#{IncomeStatementPA2007SgmtSeqNo,jdbcType=VARCHAR})
	</insert>
	<update id="updateByPrimaryKey" parameterType="com.hkbank.pbcrs.model.PbcrsReportIncomesprofitappr">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Mar 15 
			16:25:20 CST 2019. -->
		update PBCRS_REPORT_INCOMESPROFITAPPR
		set INCOMESTATEMENTPABSSGMTSEQNO =
		#{IncomeStatementPABsSgmtSeqNo,jdbcType=VARCHAR},
		INCOMESTATEMENTPA2007SGMTSEQNO =
		#{IncomeStatementPA2007SgmtSeqNo,jdbcType=VARCHAR}
		where INCOMESTATEMENTPASEQNO = #{IncomeStatementPASeqNo,jdbcType=VARCHAR}
	</update>
	<select id="selectByPrimaryKey" parameterType="String"
		resultMap="BaseResultMap">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Mar 15 
			16:25:20 CST 2019. -->
		select INCOMESTATEMENTPASEQNO, INCOMESTATEMENTPABSSGMTSEQNO,
		INCOMESTATEMENTPA2007SGMTSEQNO
		from PBCRS_REPORT_INCOMESPROFITAPPR
		where INCOMESTATEMENTPASEQNO = #{IncomeStatementPASeqNo,jdbcType=VARCHAR}
	</select>
	<select id="selectAll" resultMap="BaseResultMap">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Fri Mar 15 
			16:25:20 CST 2019. -->
		select INCOMESTATEMENTPASEQNO, INCOMESTATEMENTPABSSGMTSEQNO,
		INCOMESTATEMENTPA2007SGMTSEQNO
		from PBCRS_REPORT_INCOMESPROFITAPPR
	</select>

	<select id="getKey" resultType="int">
		select SEQ_REPORT_INCOMESPROFITAPPR.NEXTVAL from dual
	</select>

	<insert id="insertMod" parameterType="map">
		insert into pbcrs_report_IncomeSProfit_Mod
		values(#{BeforeSeqno},#{AfterSeqno})

	</insert>
	
	
		<select id="selectByMapCount" parameterType="map" resultType="int">
	
		select count(1)
		from PBCRS_REPORT_INCOMESBSSGMT t
<!-- 		left join
		PBCRS_REPORT_INCOMESTATEMENT07 t1
		on t.INCOMESTATEMENTPABSSGMTSEQNO = t1.INCOMESTATEMENTPA2007SGMTSEQNO
		and t1.ETL_DATE = #{etl_Date}
		<if test="sysid != null and sysid != ''">
			and t1.SOURCESYS = #{sysid}
		</if>
		and t1.REPORTFLAG = #{REPORTFLAG} -->
		where 1=1
		<if test="etl_Date != null and etl_Date != ''">
			and t.ETL_DATE = #{etl_Date}
		</if>
		<if test="sysid != null and sysid != ''">
			and t.SOURCESYS = #{sysid}
		</if>
		and t.REPORTFLAG = #{REPORTFLAG} 
		
	</select>


	<select id="selectByMap" parameterType="map" resultMap="BaseResultMap">
	select * from ( SELECT A.*, ROWNUM RN FROM  ( 
		select t.INCOMESTATEMENTPABSSGMTSEQNO INCOMESTATEMENTPASEQNO,
		INFRECTYPE, ENTNAME, ENTCERTTYPE, ENTCERTNUM,
		RPTDATE, SHEETYEAR, SHEETTYPE, SHEETTYPEDIVIDE, nvl(AUDITFIRMNAME,'  ')AUDITFIRMNAME, nvl(AUDITORNAME,'  ')AUDITORNAME,
		nvl(AUDITTIME,'  ')AUDITTIME,
		CIMOC, RPTDATECODE,
		t1.INCOMESTATEMENTPA2007SGMTSEQNO, 
		nvl(trim(to_char(REVENUEOFSALES,'9999999999990.99')),'0.00')REVENUEOFSALES, 
		nvl(trim(to_char(COSTOFSALES,'9999999999990.99')),'  ')COSTOFSALES, 
		nvl(trim(to_char(BUSINESSANDOTHERTAXES,'9999999999990.99')),'  ')BUSINESSANDOTHERTAXES,
		nvl(trim(to_char(SELLINGEXPENSES,'9999999999990.99')),'  ')SELLINGEXPENSES, 
		nvl(trim(to_char(GENERALANDADMINISTRATIVEEXPENS,'9999999999990.99')),'  ')GENERALANDADMINISTRATIVEEXPENS, 
		nvl(trim(to_char(FINANCIALEXPENSE,'9999999999990.99')),'  ')FINANCIALEXPENSE,
		nvl(trim(to_char(IMPAIRMENTLOSSOFASSETS,'9999999999990.99')),'  ')IMPAIRMENTLOSSOFASSETS,
		nvl(trim(to_char(PROORLOSARIFROCHAINFAIVAL,'9999999999990.99')),'  ')PROORLOSARIFROCHAINFAIVAL, 
		nvl(trim(to_char(INVESTMENTINCOME,'9999999999990.99')),'  ')INVESTMENTINCOME, 
		nvl(trim(to_char(INVFROAFFBUSANDCOOENT,'9999999999990.99')),'  ')INVFROAFFBUSANDCOOENT, 
		nvl(trim(to_char(OPERATINGPROFITS,'9999999999990.99')),'0.00')OPERATINGPROFITS,
		nvl(trim(to_char(NONOPERATINGINCOME,'9999999999990.99')),'  ')NONOPERATINGINCOME, 
		nvl(trim(to_char(NONOPERATINGEXPENSES,'9999999999990.99')),'  ')NONOPERATINGEXPENSES, 
		nvl(trim(to_char(NONCURRENTASSETS,'9999999999990.99')),'  ')NONCURRENTASSETS,
		nvl(trim(to_char(PROFITBEFORETAX,'9999999999990.99')),'0.00')PROFITBEFORETAX,  
		nvl(trim(to_char(INCOMETAXEXPENSE,'9999999999990.99')),'  ')INCOMETAXEXPENSE,
		nvl(trim(to_char(NETPROFIT,'9999999999990.99')),'0.00')NETPROFIT, 
		nvl(trim(to_char(BASICEARNINGSPERSHARE,'9999999999990.99')),'  ')BASICEARNINGSPERSHARE, 
		nvl(trim(to_char(DILUTEDEARNINGSPERSHARE,'9999999999990.99')),'  ')DILUTEDEARNINGSPERSHARE
		from PBCRS_REPORT_INCOMESBSSGMT t
		left join
		PBCRS_REPORT_INCOMESTATEMENT07 t1
		on t.INCOMESTATEMENTPABSSGMTSEQNO = t1.INCOMESTATEMENTPA2007SGMTSEQNO
		<if test="etl_Date != null and etl_Date != ''">
			and t1.ETL_DATE = #{etl_Date}
		</if>
		<if test="sysid != null and sysid != ''">
			and t1.SOURCESYS = #{sysid}
		</if>
		and t1.REPORTFLAG = #{REPORTFLAG}
		where 1=1
		<if test="etl_Date != null and etl_Date != ''">
			and t.ETL_DATE = #{etl_Date}
		</if>
		<if test="sysid != null and sysid != ''">
			and t.SOURCESYS = #{sysid}
		</if>
		and t.REPORTFLAG = #{REPORTFLAG} 
		) A where ROWNUM  &lt; = #{pageEnd} ) WHERE RN > #{pageBegin}
	</select>

	<update id="updateByMap" parameterType="map">

	</update>
</mapper>